<CascadingValue Value="this">
    @ChildContent
</CascadingValue>

@code {
    [Parameter]
    public RenderFragment ChildContent { get; set; }

    // live state
    private DateTime clock = DateTime.UtcNow;
    public DateTime Clock
    {
        get
        {
            return clock;
        }
        set
        {
            clock = value;
            StateHasChanged();
        }
    }

    // live state
    private bool uiReady = false;
    public bool UiReady
    {
        get
        {
            return uiReady;
        }
        set
        {
            uiReady = value;
            StateHasChanged();
        }
    }

    // live state
    private bool bigPlayerUI = false;
    public bool BigPlayerUI
    {
        get
        {
            return bigPlayerUI;
        }
        set
        {
            bigPlayerUI = value;
            StateHasChanged();
        }
    }

    // live state
    private bool isPlaying = false;
    public bool IsPlaying
    {
        get
        {
            return isPlaying;
        }
        set
        {
            isPlaying = value;
            StateHasChanged();
        }
    }

    // live state
    private double volume = 1.0;
    public double Volume
    {
        get
        {
            return volume;
        }
        set
        {
            volume = value;
            StateHasChanged();
        }
    }

    // live state
    private bool autoPlay = false;
    public bool AutoPlay
    {
        get
        {
            return autoPlay;
        }
        set
        {
            autoPlay = value;
            StateHasChanged();
        }
    }

    // live state
    private RadioCore.Player.Type playerUIType = RadioCore.Player.Type.FullPageMedium;
    public RadioCore.Player.Type PlayerUIType
    {
        get
        {
            return playerUIType;
        }
        set
        {
            playerUIType = value;
            StateHasChanged();
        }
    }

    // live state
    private bool loggedIn = false;
    public bool LoggedIn
    {
        get
        {
            return loggedIn;
        }
        set
        {
            loggedIn = value;
            StateHasChanged();
        }
    }

    // live state
    private RadioCore.Track playingNow = new RadioCore.Track();
    public RadioCore.Track PlayingNow
    {
        get
        {
            return playingNow;
        }
        set
        {
            playingNow = value;
            StateHasChanged();
        }
    }

    // live state
    private RadioCore.Track playingNext = new RadioCore.Track();
    public RadioCore.Track PlayingNext
    {
        get
        {
            return playingNext;
        }
        set
        {
            playingNext = value;
            StateHasChanged();
        }
    }

    // live state
    private List<RadioCore.Track> playHistory = new List<RadioCore.Track>();
    public List<RadioCore.Track> PlayHistory
    {
        get
        {
            return playHistory;
        }
        set
        {
            playHistory = value;
            StateHasChanged();
        }
    }


    // Storage State Backed Live State
    private RadioCore.StreamSource currentStream = new StreamSource()
        {
            Name = @"ClusterFox",
            Country = "USA",
            Description = @"2",
            Rate = @"320k",
            Metadata = false,
            SystemDefault = true,
            UserDefault = false,
            URL = @"https://deependswamp.ddns.net:8443/deepend"
        };
    public RadioCore.StreamSource CurrentStream
    {
        get
        {
            return currentStream;
        }
        set
        {
            currentStream = value;
            StateHasChanged();
        }
    }

    // Storage State Backed Live State
    private bool dspGlobalEnable = false;
    public bool DspGlobalEnable
    {
        get
        {
            return dspGlobalEnable;
        }
        set
        {
            dspGlobalEnable = value;
            StateHasChanged();
        }
    }
}
